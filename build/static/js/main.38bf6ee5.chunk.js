(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{143:function(e,t,a){e.exports={mainDiv:"MessagesCards_mainDiv__15mjR",cardsDiv:"MessagesCards_cardsDiv__3iLgk",cardStyle:"MessagesCards_cardStyle__SSgYQ",popOverStyle:"MessagesCards_popOverStyle__3ic4T","ant-card-head":"MessagesCards_ant-card-head__1QKOq"}},145:function(e,t,a){e.exports={mainComponentDiv:"Messages_mainComponentDiv__2jq5t",droppableStyle:"Messages_droppableStyle__8gSr6"}},146:function(e,t,a){e.exports={"user-list-container":"UsersList_user-list-container__2mt98"}},147:function(e,t,a){e.exports={"public-container":"Example_public-container__LFd1U","public-content":"Example_public-content__2aWyP","public-card":"Example_public-card__2lrlm"}},148:function(e,t,a){e.exports={"unauthorized-container":"Unauthorized_unauthorized-container__1C_Dh","unauthorized-content":"Unauthorized_unauthorized-content__1WVUm","unauthorized-card":"Unauthorized_unauthorized-card__o6IPt"}},149:function(e,t,a){e.exports={"no-match-container":"NoMatch_no-match-container__18YTG","no-match-content":"NoMatch_no-match-content__102Bo","no-match-card":"NoMatch_no-match-card__3vvtF"}},188:function(e,t,a){e.exports={"side-bar-container":"SideBarContainer_side-bar-container__1_91J"}},193:function(e,t,a){e.exports={"home-container":"Home_home-container__F_Hkq","home-icon":"Home_home-icon__1ZGY5","password-form-button":"Home_password-form-button__Hx6NM"}},203:function(e,t,a){e.exports={"side-bar-container":"MessagesSideBarContainer_side-bar-container__3AEwB"}},210:function(e,t,a){e.exports=a(398)},215:function(e,t,a){},34:function(e,t,a){e.exports={"login-container":"GenerateNewPassword_login-container__SrMEm","login-card-container":"GenerateNewPassword_login-card-container__3G79z","buttons-style":"GenerateNewPassword_buttons-style__3Y0lh"}},347:function(e,t,a){},35:function(e,t,a){e.exports={"profile-container":"Profile_profile-container__7k4Ab","profile-icon":"Profile_profile-icon__1Eoq8","profile-form-button":"Profile_profile-form-button__1zDuT"}},38:function(e,t,a){e.exports={"user-edit-container":"UserEdition_user-edit-container__2i7lP"}},393:function(e,t,a){},395:function(e,t,a){},397:function(e,t,a){},398:function(e,t,a){"use strict";a.r(t);var n={};a.r(n),a.d(n,"getUsers",function(){return Fe}),a.d(n,"getUser",function(){return Me}),a.d(n,"deleteUser",function(){return Le}),a.d(n,"createUser",function(){return ze}),a.d(n,"updateUser",function(){return Re});var r={};a.r(r),a.d(r,"getMessages",function(){return qe}),a.d(r,"getUser",function(){return He}),a.d(r,"deleteUser",function(){return Ze}),a.d(r,"createUser",function(){return Ye}),a.d(r,"updateUser",function(){return Ae});var c=a(0),o=a.n(c),s=a(8),l=a.n(s),u=(a(215),a(14)),i=a(413),m=a(415),d=a(414),p=a(32),f=a(412),b="https://api.whatsapp.khem.io";"/"!==b.substr(b.length-1)&&(b="".concat(b,"/"));"".concat(b,"api/v1/");var v="".concat("api/v1/","User/"),g="".concat("api/v1/","User/"),h=function(e){return"undefined"===typeof e},E=function(e){return!function(e){return null===e}(e)&&"object"===typeof e},y=function e(t,a){return"string"===typeof t&&(h(a)||e(a)&&t===a||x(a,t))},w=function(e){return y(e,"")},k=function(e){return y(e)&&!w(e)},x=function(e,t){return Array.isArray(e)&&(h(t)||e.indexOf(t)>=0)},O=function(e,t){return E(e)&&t in e},j=function(e,t){return E(e)&&E(e[t])},_=function(e){if(y(e))try{return JSON.parse(e)}catch(t){}return e},D=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return E(e)&&y(e._id)&&y(e.username)&&y(e.firstName)&&y(e.lastName)&&y(e.status,["isactive","inactive"])&&y(e.type)&&E(e.rules)},S=a(11),N=a.n(S),T=a(19),C=a(186),I=function(e){if(e.status>=200&&e.status<300)return e;var t=new Error(e.statusText);throw t.response=e,t},U=a.n(C).a.create({baseURL:b}),P=function(e){e?U.defaults.headers.common.Authorization=e:delete U.defaults.headers.common.Authorization},F=function(){var e=Object(T.a)(N.a.mark(function e(t,a){var n;return N.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,U.post("users/login",{username:t,password:a});case 3:if(n=e.sent,I(n)){e.next=6;break}throw new Error("invalid credentials");case 6:return e.abrupt("return",n.data);case 9:return e.prev=9,e.t0=e.catch(0),console.debug(e.t0),e.abrupt("return",!1);case 13:case"end":return e.stop()}},e,null,[[0,9]])}));return function(t,a){return e.apply(this,arguments)}}(),M=function(){var e=Object(T.a)(N.a.mark(function e(t,a){var n;return N.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,U.patch("".concat(g).concat(t),a);case 3:if(n=e.sent,I(n)){e.next=6;break}throw new Error("invalid credentials");case 6:return e.abrupt("return",a);case 9:return e.prev=9,e.t0=e.catch(0),console.debug(e.t0),e.abrupt("return",!1);case 13:case"end":return e.stop()}},e,null,[[0,9]])}));return function(t,a){return e.apply(this,arguments)}}(),L=function(){var e=Object(T.a)(N.a.mark(function e(t){var a;return N.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,U.post("auth/recovery/email/",{email:t});case 3:if(a=e.sent,I(a)){e.next=6;break}throw new Error("invalid credentials");case 6:return e.abrupt("return",a.data);case 9:return e.prev=9,e.t0=e.catch(0),console.debug(e.t0),e.abrupt("return",!1);case 13:case"end":return e.stop()}},e,null,[[0,9]])}));return function(t){return e.apply(this,arguments)}}(),z=function(){var e=Object(T.a)(N.a.mark(function e(t){var a,n;return N.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,a="auth/recovery/password?auth_token="+t.token,delete t.token,e.next=5,U.post(a,t);case 5:if(n=e.sent,I(n)){e.next=8;break}throw new Error("invalid password change process");case 8:return e.abrupt("return",n.data);case 11:return e.prev=11,e.t0=e.catch(0),console.debug(e.t0),e.abrupt("return",!1);case 15:case"end":return e.stop()}},e,null,[[0,11]])}));return function(t){return e.apply(this,arguments)}}(),R=function(){var e=Object(T.a)(N.a.mark(function e(t){var a,n;return N.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,a="auth/recovery/valid?auth_token="+t.token,e.next=4,U.post(a);case 4:if(n=e.sent,I(n)){e.next=7;break}throw new Error("invalid password change process");case 7:return e.abrupt("return",n.data);case 10:return e.prev=10,e.t0=e.catch(0),console.debug(e.t0),e.abrupt("return",!1);case 14:case"end":return e.stop()}},e,null,[[0,10]])}));return function(t){return e.apply(this,arguments)}}(),q=U,H=a(187),Z={Profile:{rules:[{name:"User",actions:["list","read","update"]}]},UserReadOnly:{rules:[{name:"User",actions:["list","read"]}]},UserFull:{rules:[{name:"User",actions:["create","list","read","update"]}]},AuthComponentCardSuccess:{rules:[{name:"User",actions:["list","read"]}]},AuthComponentCardError:{rules:[{name:"User",actions:["error"]}]},MessagesListReadUpdate:{rules:[{name:"Messagedata",actions:["list","read"]}]}},Y=new function e(t){var a=this;Object(H.a)(this,e),this.storage={local:localStorage,session:sessionStorage},this.getItem=function(e,t){var n=a.storage[a.type].getItem(e);return n?(n=_(n),t?t(n)?n:null:n):null},this.setItem=function(e,t){if(!t)throw new Error("cannot save empty value to storage");E(t)&&(t=JSON.stringify(t)),a.storage[a.type].setItem(e,t)},this.removeItem=function(e){return a.storage[a.type].removeItem(e)},this.type=t}("session"),A=Y.getItem("session",function(e){return!!(e&&e.logged&&D(e.user))&&(P("Bearer ".concat(e.token)),!0)}),B={logged:!1,token:"",user:{}},K=function(e){return{_id:e._id,username:e.username,firstName:e.firstName,lastName:e.lastName,status:e.status,type:e.type,rules:e.rules||[]}},W=function(e){var t=_(e);return t&&D(t)?{logged:!0,token:t.token,user:K(t)}:null},V=function(e,t){return!e||function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return j(e,"rules")}(t)&&j(Z,e)&&(a=Z[e],n="rules",E(a)&&x(a[n],r))&&!Z[e].rules.find(function(e){return function(e,t){var a=t.name,n=t.actions;return!O(e.rules,a)||n.find(function(t){return!O(e.rules[a],t)})}(t,e)});var a,n,r},G=function(e,t){return!(e&&!y(e,"*"))||(k(e)?V(e,t):!e.find(function(e){return!V(e,t)}))},J=function(e,t){switch(t.type){case"add":return W(t.response);case"updateUser":return Object(p.a)({},e,t.response);case"logout":return B;default:throw new Error("Unexpected action")}},X=o.a.createContext(),Q={Provider:function(e){var t=e.children,a=e.value,n=Object(c.useReducer)(J,A||B),r=Object(u.a)(n,2),s=r[0],l=r[1];return o.a.createElement(X.Provider,{value:Object(p.a)({},a,{add:function(e){l({type:"add",response:e}),function(e){var t=W(e);Y.setItem("session",JSON.stringify(t)),P("Bearer ".concat(e.token))}(e)},logout:function(){l({type:"logout"}),Y.removeItem("session"),P(null)},updateUser:function(e){return l({type:"updateUser",user:e})}},s)},t)},Consumer:X.Consumer,context:X},$=function(e){return o.a.createElement(d.a,e)},ee=a(207),te=function(e){var t=e.component,a=Object(ee.a)(e,["component"]),n=Object(c.useContext)(Q.context);return console.log("PrivateRoute/session = ",n),o.a.createElement(d.a,Object.assign({},a,{render:function(e){return!0===n.logged?function(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return G(a.rules||a.rule,t)?o.a.createElement(e,a):o.a.createElement(f.a,{to:"/unauthorized"})}(t,n.user,Object(p.a)({},e,a)):o.a.createElement(f.a,{to:"/login"})}}))},ae=(a(61),a(188)),ne=a.n(ae),re=a(410),ce=a(151),oe=a(9),se=a(400),le=ce.a.SubMenu,ue=function(e){var t=e.collapsed,a=Object(c.useContext)(Q.context);return o.a.createElement("div",{style:{height:"100vh",textAlign:"left"}},o.a.createElement(ce.a,{style:{height:"100%"},defaultSelectedKeys:["1"],defaultOpenKeys:["sub1"],mode:"inline",inlineCollapsed:t},o.a.createElement(ce.a.Item,{key:"menu-home"},o.a.createElement("span",null,o.a.createElement(oe.a,{type:"home"}),o.a.createElement("span",null,o.a.createElement(se.a,{to:"/admin/home"},"Home")))),o.a.createElement(le,{key:"menu-authenticated",title:o.a.createElement("span",null,o.a.createElement(oe.a,{type:"login"}),o.a.createElement("span",null,"Panel screens"))},o.a.createElement(le,{key:"menu-authenticated-users",disabled:"admin"!=a.user.type,title:o.a.createElement("span",null,o.a.createElement(oe.a,{type:"user"}),o.a.createElement("span",null,"Users"))},o.a.createElement(ce.a.Item,{key:"menu-authenticated-authenticated"},o.a.createElement(se.a,{to:"/admin/users"},"List")))),o.a.createElement(ce.a.Item,{key:"menu-messages-list-list"},o.a.createElement(se.a,{to:"/messages/display"},o.a.createElement("span",null,o.a.createElement(oe.a,{type:"wechat"}),o.a.createElement("span",null,"Messages")))),o.a.createElement(le,{key:"config",style:{position:"absolute",bottom:0},title:o.a.createElement("span",null,o.a.createElement(oe.a,{type:"setting"}),o.a.createElement("span",null,"Settings"))},o.a.createElement(ce.a.Item,{key:"menu-home"},o.a.createElement("span",null,o.a.createElement(oe.a,{type:"user"}),o.a.createElement("span",null,o.a.createElement(se.a,{to:"/admin/profile"},"Profile")))),o.a.createElement(ce.a.Item,{key:"menu-logout",onClick:function(){return a.logout()}},o.a.createElement(oe.a,{type:"logout"}),"Logout"))))},ie=re.a.Header,me=re.a.Sider,de=re.a.Content,pe=function(e){var t=e.children,a=e.title;return o.a.createElement(re.a,null,o.a.createElement(me,null,o.a.createElement(ue,{collapsed:!1})),o.a.createElement(re.a,null,o.a.createElement(ie,{className:ne.a["side-bar-container"]},o.a.createElement("h2",null,a)),o.a.createElement(de,{style:{margin:"24px 16px",padding:24,background:"#fff",minHeight:280}},t)))},fe=a(406),be=a(193),ve=a.n(be),ge=function(){return o.a.createElement(pe,{title:"Home"},o.a.createElement("div",{className:ve.a["home-container"]},o.a.createElement("h1",null,"Khemlabs React Panel"),o.a.createElement("img",{src:"https://khemlabs.com/img/logo-brand.png",alt:"Khemlabs React Panel"})))},he=a(35),Ee=a.n(he),ye=a(404),we=a(41),ke=a(407),xe=function(e){var t=e.form,a=e.session;return o.a.createElement(ye.a.Item,{label:"Username"},function(e,t){return(0,e.getFieldDecorator)("username",{rules:[{required:!0,message:"Please input your username!"}],initialValue:t.user.username})(o.a.createElement(ke.a,{key:"profile-username-input",disabled:!0,prefix:o.a.createElement(oe.a,{type:"tag",className:Ee.a["profile-icon"]}),placeholder:"Username"}))}(t,a))},Oe=function(e){var t=e.form,a=e.session;return o.a.createElement(ye.a.Item,{label:"First name"},function(e,t){return(0,e.getFieldDecorator)("firstName",{rules:[{required:!0,message:"Please input your first name!"}],initialValue:t.user.firstName})(o.a.createElement(ke.a,{key:"profile-firstname-input",prefix:o.a.createElement(oe.a,{type:"tag",className:Ee.a["profile-icon"]}),placeholder:"First name"}))}(t,a))},je=function(e){var t=e.form,a=e.session;return o.a.createElement(ye.a.Item,{label:"Last name"},function(e,t){return(0,e.getFieldDecorator)("lastName",{rules:[{required:!0,message:"Please input your last name!"}],initialValue:t.user.lastName})(o.a.createElement(ke.a,{key:"profile-lastname-input",prefix:o.a.createElement(oe.a,{type:"tag",className:Ee.a["profile-icon"]}),placeholder:"Last name"}))}(t,a))},_e=function(e){var t=e.form;return o.a.createElement(ye.a.Item,{label:"Password"},function(e){return(0,e.getFieldDecorator)("password",{rules:[{required:!0,message:"Please input your new password"}],initialValue:""})(o.a.createElement(ke.a,{prefix:o.a.createElement(oe.a,{type:"lock",className:Ee.a["profile-icon"]}),type:"password",placeholder:"Password"}))}(t))},De=function(e){var t=e.form;return o.a.createElement(ye.a.Item,{label:"Password confirmation"},function(e){return(0,e.getFieldDecorator)("passwordConfirm",{rules:[{required:!0,message:"Please confirm your new password"}],initialValue:""})(o.a.createElement(ke.a,{prefix:o.a.createElement(oe.a,{type:"lock",className:Ee.a["profile-icon"]}),type:"password",placeholder:"Password confirmation"}))}(t))},Se=ye.a.create({name:"form_profile"})(function(e){var t=e.form,a=Object(c.useState)(!1),n=Object(u.a)(a,2),r=n[0],s=n[1],l=Object(c.useState)(!1),i=Object(u.a)(l,2),m=i[0],d=i[1],p=Object(c.useState)(!1),f=Object(u.a)(p,2),b=f[0],v=f[1],g=Object(c.useContext)(Q.context);return o.a.createElement(pe,{title:"Profile"},o.a.createElement("div",{className:Ee.a["profile-container"]},o.a.createElement(ye.a,{onSubmit:function(e){return function(e,a){d(!1),s(!1),a.preventDefault(),t.validateFields(function(){var t=Object(T.a)(N.a.mark(function t(a,n){var r;return N.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(a){t.next=9;break}return t.next=3,M(e.user._id,n);case 3:if(r=t.sent){t.next=7;break}return s(!0),t.abrupt("return");case 7:d(!0),e.updateUser(r);case 9:case"end":return t.stop()}},t)}));return function(e,a){return t.apply(this,arguments)}}())}(g,e)},className:Ee.a["login-form"]},o.a.createElement(xe,{form:t,session:g}),o.a.createElement(Oe,{form:t,session:g}),o.a.createElement(je,{form:t,session:g}),b&&o.a.createElement(_e,{form:t}),b&&o.a.createElement(De,{form:t}),o.a.createElement(function(){return o.a.createElement("div",null,r&&o.a.createElement(ye.a.Item,{validateStatus:"error",help:"Request failed"}),m&&o.a.createElement(ye.a.Item,{style:{color:"green"},help:"Saved!"}))},null),o.a.createElement(ye.a.Item,null,o.a.createElement(we.a,{type:"primary",htmlType:"submit",className:Ee.a["login-form-button"]},"Save"),o.a.createElement(we.a,{type:"secondary",htmlType:"button",className:Ee.a["password-form-button"],onClick:function(){return v(!b)}},b?"Hide":"Update password")))))}),Ne=a(59),Te=a(411),Ce=a(408),Ie=a(403),Ue=(a(347),[{title:"Fecha",dataIndex:"deliveryDate",key:"deliveryDate",render:function(e){return o.a.createElement("p",null,e)}},{title:"Usuario",dataIndex:"listener.wapUsername",key:"User",render:function(e){return o.a.createElement("p",null,e)}},{title:"Mensaje",dataIndex:"messageData.body",key:"messageText",render:function(e){return o.a.createElement("p",null,e)}},{title:"Action",key:"action",render:function(e,t){return o.a.createElement("span",null,o.a.createElement("a",{href:"#",style:{marginLeft:"5px",color:"red"},onClick:t.onDelete},"Delete"))}}]),Pe=function(e){var t=e.messages,a=e.onDelete;return o.a.createElement(Ie.a,{columns:Ue,dataSource:t.map(function(e){return e.onDelete=function(){return a(e._id)},e})})},Fe=(a(401),a(143),o.a.createElement("div",null,o.a.createElement("p",null,"popoverContent1"),o.a.createElement("p",null,"popoverContent2")),function(){var e=Object(T.a)(N.a.mark(function e(){var t,a=arguments;return N.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a.length>0&&void 0!==a[0]?a[0]:{},e.prev=1,e.next=4,q.get("".concat(v));case 4:if(t=e.sent,I(t)){e.next=7;break}throw new Error("invalid credentials");case 7:return e.abrupt("return",t.data);case 10:return e.prev=10,e.t0=e.catch(1),console.debug(e.t0),e.abrupt("return",!1);case 14:case"end":return e.stop()}},e,null,[[1,10]])}));return function(){return e.apply(this,arguments)}}()),Me=function(){var e=Object(T.a)(N.a.mark(function e(t){var a;return N.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,q.get("".concat(v).concat(t));case 3:if(a=e.sent,I(a)){e.next=6;break}throw new Error("invalid credentials");case 6:return e.abrupt("return",a.data);case 9:return e.prev=9,e.t0=e.catch(0),console.debug(e.t0),e.abrupt("return",!1);case 13:case"end":return e.stop()}},e,null,[[0,9]])}));return function(t){return e.apply(this,arguments)}}(),Le=function(){var e=Object(T.a)(N.a.mark(function e(t){var a;return N.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,q.delete("".concat(v).concat(t));case 3:if(a=e.sent,I(a)){e.next=6;break}throw new Error("invalid credentials");case 6:return e.abrupt("return",!0);case 9:return e.prev=9,e.t0=e.catch(0),console.debug(e.t0),e.abrupt("return",!1);case 13:case"end":return e.stop()}},e,null,[[0,9]])}));return function(t){return e.apply(this,arguments)}}(),ze=function(){var e=Object(T.a)(N.a.mark(function e(t){var a;return N.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t.type||(t.type="admin"),e.next=4,q.post(v,t);case 4:if(a=e.sent,I(a)){e.next=7;break}throw new Error("invalid credentials");case 7:return e.abrupt("return",t);case 10:return e.prev=10,e.t0=e.catch(0),console.debug(e.t0),e.abrupt("return",!1);case 14:case"end":return e.stop()}},e,null,[[0,10]])}));return function(t){return e.apply(this,arguments)}}(),Re=function(){var e=Object(T.a)(N.a.mark(function e(t,a){var n;return N.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,q.patch("".concat(v).concat(t),a);case 3:if(n=e.sent,I(n)){e.next=6;break}throw new Error("invalid credentials");case 6:return e.abrupt("return",a);case 9:return e.prev=9,e.t0=e.catch(0),console.debug(e.t0),e.abrupt("return",!1);case 13:case"end":return e.stop()}},e,null,[[0,9]])}));return function(t,a){return e.apply(this,arguments)}}(),qe=function(){var e=Object(T.a)(N.a.mark(function e(){var t,a,n=arguments;return N.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=n.length>0&&void 0!==n[0]?n[0]:{},e.prev=1,e.next=4,q.get("".concat("mdata/","getmessage"),{params:t});case 4:if(a=e.sent,I(a)){e.next=7;break}throw new Error("invalid credentials");case 7:return e.abrupt("return",a.data);case 10:return e.prev=10,e.t0=e.catch(1),console.debug(e.t0),e.abrupt("return",!1);case 14:case"end":return e.stop()}},e,null,[[1,10]])}));return function(){return e.apply(this,arguments)}}(),He=function(){var e=Object(T.a)(N.a.mark(function e(t){var a;return N.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,q.get("".concat("mdata/").concat(t));case 3:if(a=e.sent,I(a)){e.next=6;break}throw new Error("invalid credentials");case 6:return e.abrupt("return",a.data);case 9:return e.prev=9,e.t0=e.catch(0),console.debug(e.t0),e.abrupt("return",!1);case 13:case"end":return e.stop()}},e,null,[[0,9]])}));return function(t){return e.apply(this,arguments)}}(),Ze=function(){var e=Object(T.a)(N.a.mark(function e(t){var a;return N.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,q.delete("".concat("mdata/").concat(t));case 3:if(a=e.sent,I(a)){e.next=6;break}throw new Error("invalid credentials");case 6:return e.abrupt("return",!0);case 9:return e.prev=9,e.t0=e.catch(0),console.debug(e.t0),e.abrupt("return",!1);case 13:case"end":return e.stop()}},e,null,[[0,9]])}));return function(t){return e.apply(this,arguments)}}(),Ye=function(){var e=Object(T.a)(N.a.mark(function e(t){var a;return N.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t.type||(t.type="admin"),e.next=4,q.post("mdata/",t);case 4:if(a=e.sent,I(a)){e.next=7;break}throw new Error("invalid credentials");case 7:return e.abrupt("return",t);case 10:return e.prev=10,e.t0=e.catch(0),console.debug(e.t0),e.abrupt("return",!1);case 14:case"end":return e.stop()}},e,null,[[0,10]])}));return function(t){return e.apply(this,arguments)}}(),Ae=function(){var e=Object(T.a)(N.a.mark(function e(t,a){var n;return N.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,q.patch("".concat("mdata/").concat(t),a);case 3:if(n=e.sent,I(n)){e.next=6;break}throw new Error("invalid credentials");case 6:return e.abrupt("return",a);case 9:return e.prev=9,e.t0=e.catch(0),console.debug(e.t0),e.abrupt("return",!1);case 13:case"end":return e.stop()}},e,null,[[0,9]])}));return function(t,a){return e.apply(this,arguments)}}(),Be=Te.a.TreeNode;function Ke(e,t){var a,n=e.node.props.eventKey,r=e.dragNode.props.eventKey,c=e.node.props.pos.split("-"),o=e.dropPosition-Number(c[c.length-1]),s=function e(t,a,n){t.forEach(function(t,r,c){return t.key===a?n(t,r,c):t.children?e(t.children,a,n):void 0})},l=Object(Ne.a)(t);if(s(l,r,function(e,t,n){n.splice(t,1),a=e}),e.dropToGap)if((e.node.props.children||[]).length>0&&e.node.props.expanded&&1===o)s(l,n,function(e){e.children=e.children||[],e.children.unshift(a)});else{var u,i;s(l,n,function(e,t,a){u=a,i=t}),-1===o?u.splice(i,0,a):u.splice(i+1,0,a)}else s(l,n,function(e){e.children=e.children||[],e.children.push(a)});return l}var We={};var Ve=function(e,t){return function e(t,a,n,r,c,o,s,l){return(t||[]).map(function(t){var n=t.children,r=t.key,c=t.title,o=t.status,s=t.startDate,l=t.endDate,u=t.codeWord,i=We[r]={parent:a,key:r,title:c,status:o,startDate:s,endDate:l,codeWord:u};return i.children=e(n,i,r,c,o,s,l,u),i})}(e,t),We},Ge=a(203),Je=a.n(Ge),Xe=(a(393),a(402)),Qe=(a(394),a(395),a(405).a.RangePicker);function $e(e,t){console.log("Selected Time: ",e),console.log("Formatted Selected Time: ",t)}function et(e){console.log("onOk: ",e)}var tt=function(e){var t=e.value;return o.a.createElement(Qe,{showTime:{format:"HH:mm"},format:"DD-MM-YY HH:mm",placeholder:["Start Time","End Time"],onChange:$e,onOk:et,size:"small",value:t})},at=a(16),nt=a.n(at),rt=function(e){var t=e.resetShowModal,a=e.mouseRightClickPosition,n=e.rightClickSelectedTag,r=e.sendNewSelectedTagStateToTagTree,s=Object(c.useState)(!0),l=Object(u.a)(s,2),i=l[0],m=l[1],d=Object(c.useState)(Object(p.a)({},n)),f=Object(u.a)(d,2),b=f[0],v=f[1],g=function(){var e=Object(p.a)({},b);e.status=!e.status,v(Object.assign(b,e)),r(b)},h={position:"absolute",top:a.mouseY-100,left:"220px"},E={tagStatus:{border:"0px red solid",display:"flex",justifyContent:"space-between",fontWeight:"bold"},tagDates:{paddingTop:"1%",paddingBottom:"1%",display:"flex",justifyContent:"space-between",fontWeight:"bold"}};return o.a.createElement("div",null,o.a.createElement(Ce.a,{title:b.title,visible:i,onOk:function(e){console.log(e),m(!1),t()},onCancel:function(e){console.log(e),m(!1),t()},style:h},o.a.createElement(function(){return o.a.createElement("div",{style:E.tagStatus},o.a.createElement("div",null,"Status:"),o.a.createElement(Xe.a,{defaultChecked:b.status,onChange:g}))},null),o.a.createElement(function(){var e=nt()(b.startDate).format("DD/MM/YY HH:mm"),t=nt()(b.endDate).format("DD/MM/YY HH:mm"),a=[nt()(e,"DD/MM/YY HH:mm"),nt()(t,"DD/MM/YY HH:mm")];return console.log("pickerDate = ",a),o.a.createElement("div",{style:E.tagDates},"Time window:",o.a.createElement(tt,{value:a}))},null),o.a.createElement(function(){return o.a.createElement("div",{style:E.tagStatus},o.a.createElement("div",null,"Code word:"),o.a.createElement("div",null,void 0!=b.codeWord?b.codeWord:"no code word assigned"))},null)))},ct=(Te.a.TreeNode,function(e){e.sendDroppedDataToMessages;var t=function e(t,a){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];return(a=1==n?t.filter(function(e){return void 0==e.parentTag}):a).map(function(n,r){a[r].children=t.filter(function(e){return e.parentTag==n.key}),e(t,a[r].children,!1)}),a}([{key:"5ccc37645ad6ca045cb414545",title:"Saludos de Cumple",startDate:"2019-01-01T10:00:00Z",endDate:"2019-01-10T14:00:00Z",autoAssignTagToIncomingMessage:!0,status:!0,selectable:!0},{key:"5ccc37855ad6ca045cdsdeb41f74",parentTag:"5ccc37645ad6ca045cb414545",title:"Saludos a zona oeste",startDate:"2019-01-01T10:00:00Z",endDate:"2019-01-10T10:00:00Z",status:!0,selectable:!0},{key:"5ccc37855ad6ca045cssaf74",parentTag:"5ccc37645ad6ca045cb414545",title:"Saludos a zona SUR",startDate:"2019-01-01T10:00:00Z",endDate:"2019-01-10T10:00:00Z",status:!0,selectable:!0},{key:"5ccc37855ad6caasa74",parentTag:"5ccc37855ad6ca045cssaf74",title:"Saludos a zona SUR pero de quilmes",startDate:"2019-01-01T10:00:00Z",endDate:"2019-01-10T10:00:00Z",status:!0,selectable:!0},{key:"5ccc37645ad6ca045cb41f73",title:"Otros Pedidos",startDate:"2019-01-01T10:00:00Z",endDate:"2019-01-10T14:00:00Z",autoAssignTagToIncomingMessage:!0,status:!0},{key:"5ccc37855ad6ca045cb41f74",parentTag:"5ccc37645ad6ca045cb41f73",title:"Canciones",startDate:"2019-01-01T10:00:00Z",endDate:"2019-01-10T10:00:00Z",status:!0},{key:"5ccc37a65ad6ca045cb41f75",parentTag:"5ccc37855ad6ca045cb41f74",title:"Juan Corazon de Leon",disabled:!1,selectable:!0,status:!0,startDate:"2019-01-01T10:00:00Z",endDate:"2019-01-02T14:00:00Z"},{key:"5ccc37be5ad6ca045cb41f76",parentTag:"5ccc37a65ad6ca045cb41f75",title:"hitasos",disabled:!1,selectable:!0,status:!0,startDate:"2019-01-01T10:00:00Z",endDate:"2019-01-02T14:00:00Z"},{key:"5ccc37da5ad6ca045cb41f78",parentTag:"5ccc37be5ad6ca045cb41f76",title:"de los 80",disabled:!1,status:!0,startDate:"2019-01-01T10:00:00Z",endDate:"2019-01-02T14:00:00Z",selectable:!0},{key:"5ccc37df5ad6ca045cb41f79",parentTag:"5ccc37be5ad6ca045cb41f76",title:"de los 70",disabled:!1,status:!1,startDate:"2019-01-01T10:00:00Z",endDate:"2019-01-02T14:00:00Z",selectable:!0}]),a=Object(c.useState)(t),n=Object(u.a)(a,2),r=n[0],s=n[1],l=Object(c.useState)(["Key-level-0-0-2"]),i=Object(u.a)(l,2),m=i[0],d=(i[1],Object(c.useState)(!1)),p=Object(u.a)(d,2),f=p[0],b=p[1],v=Object(c.useState)({}),g=Object(u.a)(v,2),h=g[0],E=g[1],y=Object(c.useState)({}),w=Object(u.a)(y,2),k=w[0],x=w[1],O=Ve(r);console.log("tagMap = ",O);var j=function(e){var t=O[e.eventKey];console.log("selected Tag with Right Click = ",t),x(t)};return o.a.createElement("div",null,o.a.createElement(Te.a,{className:"draggable-tree",defaultExpandedKeys:m,draggable:!0,blockNode:!0,onDragEnter:function(e){console.log("on Drag Enter= onDragOver"),console.log(e)},onDrop:function(e){console.log("onDrop - event = ",e.event),console.log("onDrop - node = ",e.node),console.log("onDrop - dragNode = ",e.dragNode),console.log("onDrop - dragNodesKeys = ",e.dragNodesKeys),e.event.preventDefault();var t=e.event.dataTransfer.getData("transfer");console.log("transferred data = ",t);var a=e.event.dataTransfer.getData("transfer2"),n=e.node.props.id;if(""==t||""==a||""==n){var c=Ke(e,r);s(function(e){return Object(Ne.a)(c)})}console.log("onDrop / gData = ",r)},collapsed:!0,onSelect:function(e){console.log("itemSelected, key = ",e[0]);var t=function(e,t){for(var a=[],n=t[e];n;)a.unshift(n.key),n=n.parent;return a}(e[0],O);console.log(t)},onRightClick:function(e){var t=e.event,a=e.node;console.log("rcFct, node = ",a),console.log("rcFct, event = ",t),console.log("event.clientX = ",t.clientX),console.log("event.clientY = ",t.clientY),E({mouseX:t.clientX,mouseY:t.clientY}),j(a.props),b(function(e){return!e})}},function e(t){return t.map(function(t){return t.children&&t.children.length?o.a.createElement(Be,{key:t.key,title:t.title,disabled:t.disabled||!1,selectable:t.selectable||!0,id:t.id},e(t.children)):o.a.createElement(Be,{key:t.key,title:t.title,disabled:t.disabled||!1,selectable:t.selectable||!1,id:t.id})})}(r)),f?o.a.createElement(rt,{rightClickSelectedTag:k,sendNewSelectedTagStateToTagTree:function(e){console.log("getNewSelectedTagStateFromModal = ",e)},mouseRightClickPosition:h,resetShowModal:function(){return b(!1)}}):null)}),ot=(ce.a.SubMenu,function(e){var t=e.collapsed,a=e.getDroppedDataFromTagTreeSideBar;Object(c.useContext)(Q.context);return o.a.createElement("div",{style:{height:"100vh",textAlign:"left"}},o.a.createElement(ce.a,{style:{height:"100%"},defaultSelectedKeys:["1"],defaultOpenKeys:["sub1"],mode:"inline",inlineCollapsed:t},o.a.createElement(ce.a.Item,{key:"menu-home"},o.a.createElement("span",null,o.a.createElement(oe.a,{type:"home"}),o.a.createElement("span",null,o.a.createElement(se.a,{to:"/admin/home"},"Home")))),o.a.createElement(ce.a.Item,{key:"menu-messages-list-list"},o.a.createElement(se.a,{to:"/messages/display"},o.a.createElement("span",null,o.a.createElement(oe.a,{type:"wechat"}),o.a.createElement("span",null,"Messages")))),o.a.createElement(ct,{sendDroppedDataToMessages:a})))}),st=re.a.Header,lt=re.a.Sider,ut=re.a.Content,it=function(e){var t=e.children,a=e.title,n=e.getDroppedDataFromTagTreeSideBar;return o.a.createElement(re.a,null,o.a.createElement(lt,null,o.a.createElement(ot,{getDroppedDataFromTagTreeSideBar:n,collapsed:!1})),o.a.createElement(re.a,null,o.a.createElement(st,{className:Je.a["side-bar-container"]},o.a.createElement("h2",null,a)),o.a.createElement(ut,null,t)))},mt=a(145),dt=a.n(mt),pt=(Te.a.TreeNode,Ce.a.confirm),ft=function(){var e=Object(c.useState)(!1),t=Object(u.a)(e,2),a=(t[0],t[1],Object(c.useState)(!0)),n=Object(u.a)(a,2),s=(n[0],n[1],Object(c.useState)(!1)),l=Object(u.a)(s,2),i=(l[0],l[1],Object(c.useState)("drop2")),m=Object(u.a)(i,2),d=(m[0],m[1],Object(c.useState)([])),f=Object(u.a)(d,2),b=(f[0],f[1],Object(c.useState)("pepe")),v=Object(u.a)(b,2),g=(v[0],v[1],Object(c.useState)(0)),h=Object(u.a)(g,2),E=(h[0],h[1],Object(c.useState)(["level-0-0-2"])),y=Object(u.a)(E,2),w=(y[0],y[1],Object(c.useState)([])),k=Object(u.a)(w,2),x=k[0],O=k[1],j=Object(c.useState)(!0),_=Object(u.a)(j,2),D=(_[0],_[1]),S=Object(c.useState)({drop1:[],drop2:[],drop3:[]}),C=Object(u.a)(S,2),I=C[0],U=C[1],P=Object(c.useState)(!1),F=Object(u.a)(P,2),M=F[0],L=(F[1],Object(c.useState)([{key:"level-0",title:"Tlevel-0",id:"ID-Level-0",children:[{key:"level-0-0",title:"Tlevel-0-0",id:"ID-Level-0-0",children:[{key:"level-0-0-0",title:"Tlevel-0-0-0",id:"ID-Level-0-0-0",disabled:!1,selectable:!0},{key:"level-0-0-1",title:"Tlevel-0-0-1",id:"ID-Level-0-0-1",selectable:!0},{key:"level-0-0-2",title:"Tlevel-0-0-2",id:"ID-Level-0-0-2",selectable:!0}]}]}])),z=Object(u.a)(L,2),R=(z[0],z[1],Object(c.useState)({"ID-Level-0":[],"ID-Level-0-0":[],"ID-Level-0-0-0":[],"ID-Level-0-0-1":[],"ID-Level-0-0-2":[]})),q=Object(u.a)(R,2);q[0],q[1];Object(c.useEffect)(function(){console.log("Messages = ",x)},[x]);var H=function(){var e=Object(T.a)(N.a.mark(function e(){var t;return N.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.getMessages();case 2:return t=e.sent,e.abrupt("return",t);case 4:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}();Object(c.useEffect)(function(){H().then(function(e){var t=e.map(function(e){return Object(p.a)({},e,{deliveryDate:nt()(e.deliveryDate).format("DD/MM Thh:mm"),key:"list_".concat(e._id)})});O(function(e){return[].concat(Object(Ne.a)(e),Object(Ne.a)(t))}),console.log("messages = ",x);var a={drop1:e.map(function(e){return e._id}),drop2:[],drop3:[]};U(Object.assign(I,a))})},[]),Object(c.useEffect)(function(){console.log("triggerReRender has changed "),console.log("messages = ",x)},[M]);var Z=function(){var e=Object(T.a)(N.a.mark(function e(t){var a;return N.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:a=x.find(function(e){return e._id===t}),pt({title:"Do you want to delete these item?",content:"".concat(a._id,"  will be deleted, are you sure?"),onOk:function(){var e=Object(T.a)(N.a.mark(function e(){return N.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:D(!0),D(!1);case 2:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}(),onCancel:function(){}});case 2:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}();return o.a.createElement(it,{title:"Messages",getDroppedDataFromTagTreeSideBar:function(e){console.log("test Function in Messages!. InfoFromTree = ",e)}},o.a.createElement("div",null,o.a.createElement(we.a,{onClick:function(){H()},type:"primary",htmlType:"button",className:dt.a["login-form-button"],size:"small"},"Load List")),o.a.createElement("div",{className:dt.a.mainComponentDiv},o.a.createElement(Pe,{messages:x,onDelete:Z})))},bt=a(38),vt=a.n(bt),gt=a(200),ht=function(e){var t=e.form,a=e.user;return o.a.createElement(ye.a.Item,{hasFeedback:!0,label:"Email"},function(e,t){return(0,e.getFieldDecorator)("email",{rules:[{required:!0,type:"email",message:"Please input the user email!"}],initialValue:t.email})(o.a.createElement(ke.a,{key:"profile-email-input",disabled:t._id,prefix:o.a.createElement(oe.a,{type:"tag",className:vt.a["home-icon"]}),placeholder:"Email"}))}(t,a))},Et=function(e){var t=e.form,a=e.user;return o.a.createElement(ye.a.Item,{hasFeedback:!0,label:"First name"},function(e,t){return(0,e.getFieldDecorator)("firstName",{rules:[{required:!0,message:"Please input your first name!"}],initialValue:t.firstName})(o.a.createElement(ke.a,{key:"profile-firstname-input",prefix:o.a.createElement(oe.a,{type:"tag",className:vt.a["home-icon"]}),placeholder:"First name"}))}(t,a))},yt=function(e){var t=e.form,a=e.user;return o.a.createElement(ye.a.Item,{hasFeedback:!0,label:"Last name"},function(e,t){return(0,e.getFieldDecorator)("lastName",{rules:[{required:!0,message:"Please input your last name!"}],initialValue:t.lastName})(o.a.createElement(ke.a,{key:"profile-lastname-input",prefix:o.a.createElement(oe.a,{type:"tag",className:vt.a["home-icon"]}),placeholder:"Last name"}))}(t,a))},wt=function(e){var t=e.form,a=e.user;return o.a.createElement(ye.a.Item,{hasFeedback:!0,label:"Username"},function(e,t){return(0,e.getFieldDecorator)("username",{rules:[{required:!0,message:"Please enter a username"}],initialValue:t.username})(o.a.createElement(ke.a,{key:"profile-username-input",prefix:o.a.createElement(oe.a,{type:"tag",className:vt.a["home-icon"]}),placeholder:"Username"}))}(t,a))},kt=a(92),xt=kt.a.Option,Ot=function(e){var t=e.form,a=e.user;return o.a.createElement(ye.a.Item,{hasFeedback:!0,label:"User type"},function(e,t){return(0,e.getFieldDecorator)("type",{rules:[{required:!0,message:"Please define a user type"}],initialValue:t.type})(o.a.createElement(kt.a,{defaultValue:"admin"},o.a.createElement(xt,{value:"admin"},"admin"),o.a.createElement(xt,{value:"userR"},"read"),o.a.createElement(xt,{value:"userRW"},"read and write")))}(t,a))},jt=ye.a.create({name:"user_edition_form"})(function(e){var t=e.form,a=e.match,r=j(a,"params")?a.params:{},s=Object(c.useState)({}),l=Object(u.a)(s,2),i=l[0],m=l[1],d=Object(c.useState)(!0),p=Object(u.a)(d,2),b=p[0],v=p[1],g=Object(c.useState)(!1),h=Object(u.a)(g,2),E=h[0],y=h[1],w=Object(c.useState)(!1),k=Object(u.a)(w,2),x=k[0],O=k[1],_=Object(c.useState)(!1),D=Object(u.a)(_,2),S=D[0],C=D[1],I=function(){var e=Object(T.a)(N.a.mark(function e(){var t;return N.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!r.id){e.next=8;break}return e.next=3,n.getUser(r.id);case 3:(t=e.sent)?m(t):O(!0),v(!1),e.next=9;break;case 8:v(!1);case 9:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}();Object(c.useEffect)(function(){I()},[]);return S?o.a.createElement(f.a,{to:"/admin/users"}):o.a.createElement(pe,{title:i._id?"Update user":"Create user"},o.a.createElement("div",{className:vt.a["user-edit-container"]},o.a.createElement(ye.a,{onSubmit:function(e){return function(e,a){v(!0),y(!1),O(!1),a.preventDefault(),t.validateFields(function(){var t=Object(T.a)(N.a.mark(function t(a,r){var c;return N.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(a&&v(!1),!e._id){t.next=7;break}return t.next=4,n.updateUser(e._id,r);case 4:t.t0=t.sent,t.next=10;break;case 7:return t.next=9,n.createUser(r,r);case 9:t.t0=t.sent;case 10:if(c=t.t0,v(!1),c){t.next=14;break}return t.abrupt("return",O(!0));case 14:y(!0);case 15:case"end":return t.stop()}},t)}));return function(e,a){return t.apply(this,arguments)}}())}(i,e)},className:vt.a["login-form"]},o.a.createElement(Et,{form:t,user:i}),o.a.createElement(yt,{form:t,user:i}),o.a.createElement(wt,{form:t,user:i}),o.a.createElement(ht,{form:t,user:i}),o.a.createElement(Ot,{form:t,user:i}),o.a.createElement(function(){return o.a.createElement("div",null,x&&o.a.createElement(ye.a.Item,{validateStatus:"error",help:"Request failed"}),E&&o.a.createElement(ye.a.Item,{style:{color:"green"},help:"Saved!"}))},null),o.a.createElement(ye.a.Item,null,o.a.createElement(we.a,{type:"primary",htmlType:"submit",className:vt.a["login-form-button"]},b&&o.a.createElement(gt.a,null),i._id?"Save":"Create"),o.a.createElement(we.a,{type:"secondary",htmlType:"button",className:vt.a["login-form-button"],onClick:function(){return C(!0)}},E?"Back":"Cancel")))))}),_t=a(146),Dt=a.n(_t),St=[{title:"First name",dataIndex:"firstName",key:"firstName",render:function(e){return o.a.createElement("p",null,e)}},{title:"Last name",dataIndex:"lastName",key:"lastName",render:function(e){return o.a.createElement("p",null,e)}},{title:"Email",dataIndex:"email",key:"email",render:function(e){return o.a.createElement("p",null,e)}},{title:"Action",key:"action",render:function(e,t){return o.a.createElement("span",null,o.a.createElement(se.a,{to:"/admin/user/".concat(t._id)},"Edit"),o.a.createElement("a",{href:"#",style:{marginLeft:"5px",color:"red"},onClick:t.onDelete},"Delete"))}}],Nt=function(e){var t=e.users,a=e.onDelete;return o.a.createElement(Ie.a,{columns:St,dataSource:t.map(function(e){return e.onDelete=function(){return a(e._id)},e})})},Tt=Ce.a.confirm,Ct=function(){var e=Object(c.useState)([]),t=Object(u.a)(e,2),a=t[0],r=t[1],s=Object(c.useState)(!0),l=Object(u.a)(s,2),i=l[0],m=l[1],d=Object(c.useState)(!1),f=Object(u.a)(d,2),b=f[0],v=f[1];Object(c.useEffect)(function(){g()},[]);var g=function(){var e=Object(T.a)(N.a.mark(function e(){var t;return N.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.getUsers();case 2:if(t=e.sent,m(!1),t){e.next=6;break}return e.abrupt("return",v(!0));case 6:r(t.map(function(e){return Object(p.a)({},e,{key:"list_".concat(e._id)})}));case 7:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}(),h=function(){var e=Object(T.a)(N.a.mark(function e(t){var c;return N.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:c=a.find(function(e){return e._id===t}),Tt({title:"Do you want to delete these item?",content:"".concat(c.firstName," ").concat(c.lastName," will be deleted, are you sure?"),onOk:function(){var e=Object(T.a)(N.a.mark(function e(){return N.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return m(!0),e.next=3,n.deleteUser(t);case 3:e.sent?r(a.filter(function(e){return e._id!==t})):v(!0),m(!1);case 6:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}(),onCancel:function(){}});case 2:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}();return o.a.createElement(pe,{title:"Users"},o.a.createElement("div",{className:Dt.a["user-list-container"]},b&&o.a.createElement(ye.a.Item,{validateStatus:"error",help:"User is not authorized to make that action"}),o.a.createElement(we.a,{type:"secondary",htmlType:"button",className:Dt.a["login-form-button"]},o.a.createElement(se.a,{to:"/admin/user"},i&&o.a.createElement(gt.a,null)," Create")),o.a.createElement(Nt,{users:a,onDelete:h})))},It=(a(147),a(409)),Ut=a(70),Pt=a.n(Ut),Ft=ye.a.create({name:"normal_login"})(function(e){var t=e.form,a=Object(c.useState)(!1),n=Object(u.a)(a,2),r=n[0],s=n[1],l=t.getFieldDecorator,i=Object(c.useContext)(Q.context);return i.logged?o.a.createElement(f.a,{to:"/admin/home"}):o.a.createElement("div",{className:Pt.a["login-container"]},o.a.createElement(fe.a,{title:"Login",className:Pt.a["login-card-container"]},o.a.createElement(ye.a,{onSubmit:function(e){return function(e,a){s(!1),a.preventDefault(),t.validateFields(function(){var t=Object(T.a)(N.a.mark(function t(a,n){var r,c,o;return N.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(a){t.next=9;break}return r=n.username,c=n.password,t.next=4,F(r,c);case 4:if(o=t.sent){t.next=8;break}return s(!0),t.abrupt("return");case 8:e.add(o);case 9:case"end":return t.stop()}},t)}));return function(e,a){return t.apply(this,arguments)}}())}(i,e)},className:Pt.a["login-form"]},o.a.createElement(ye.a.Item,null,l("username",{rules:[{required:!0,message:"Please input your username!"}]})(o.a.createElement(ke.a,{prefix:o.a.createElement(oe.a,{type:"user",style:{color:"rgba(0,0,0,.25)"}}),placeholder:"Username",autoComplete:"current-username"}))),o.a.createElement(ye.a.Item,null,l("password",{rules:[{required:!0,message:"Please input your Password!"}]})(o.a.createElement(ke.a,{prefix:o.a.createElement(oe.a,{type:"lock",style:{color:"rgba(0,0,0,.25)"}}),type:"password",placeholder:"Password",autoComplete:"current-password"}))),r&&o.a.createElement(ye.a.Item,{validateStatus:"error",help:"Login request failed"}),o.a.createElement(ye.a.Item,null,o.a.createElement("div",{className:Pt.a["buttons-style"]},o.a.createElement(we.a,{type:"primary",htmlType:"submit",className:Pt.a["login-form-button"]},"Log in"),o.a.createElement(we.a,{type:"secondary",htmlType:"button",className:Pt.a["login-form-button"]},o.a.createElement(se.a,{to:"/recoverpassword"},"Recover Password")))))))}),Mt=a(148),Lt=a.n(Mt),zt=function(e){var t=Object(c.useState)(!1),a=Object(u.a)(t,2),n=a[0],r=a[1];return n?o.a.createElement(f.a,{to:"/"}):o.a.createElement("div",{className:Lt.a["unauthorized-container"]},o.a.createElement(It.a,{onBack:function(){return r(!0)},title:"Error:",subTitle:"Unauthorized"}),o.a.createElement("div",{className:Lt.a["unauthorized-content"]},o.a.createElement(fe.a,{title:"Warning",className:"unauthorized-card"},o.a.createElement("p",null,"You do not have permissions to access this screen"))))},Rt=a(149),qt=a.n(Rt),Ht=function(){var e=Object(c.useState)(!1),t=Object(u.a)(e,2),a=t[0],n=t[1];return a?o.a.createElement(f.a,{to:"/"}):o.a.createElement("div",{className:qt.a["no-match-container"]},o.a.createElement(It.a,{onBack:function(){return n(!0)},title:"Sory:",subTitle:"The screen you are looking for does not exists"}),o.a.createElement("div",{className:qt.a["no-match-content"]},o.a.createElement(fe.a,{title:"Warning",className:"no-match-card"},o.a.createElement("p",null,"404 - NOT FOUND!!!"))))},Zt=a(53),Yt=a.n(Zt),At=ye.a.create({name:"recover_password"})(function(e){var t=e.form,a=Object(c.useState)(!1),n=Object(u.a)(a,2),r=n[0],s=n[1],l=Object(c.useState)(!1),i=Object(u.a)(l,2),m=i[0],d=i[1],p=t.getFieldDecorator,b=Object(c.useContext)(Q.context),v=o.a.createElement(fe.a,{title:"Recover Password",className:Yt.a["login-card-container"]},o.a.createElement(ye.a,{onSubmit:function(e){return function(e,a){s(!1),a.preventDefault(),t.validateFields(function(){var t=Object(T.a)(N.a.mark(function t(a,n){var r,c;return N.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(a){t.next=10;break}return r=n.emailadress,t.next=4,L(r);case 4:if(c=t.sent){t.next=8;break}return s(!0),t.abrupt("return");case 8:d(!0),e.add(c);case 10:case"end":return t.stop()}},t)}));return function(e,a){return t.apply(this,arguments)}}())}(b,e)},className:Yt.a["login-form"]},o.a.createElement(ye.a.Item,null,p("emailadress",{rules:[{required:!0,message:"Please enter your registrered email"}]})(o.a.createElement(ke.a,{prefix:o.a.createElement(oe.a,{type:"user",style:{color:"rgba(0,0,0,.25)"}}),placeholder:"Email"}))),r&&o.a.createElement(ye.a.Item,{validateStatus:"error",help:"Recover password request failed"}),o.a.createElement(ye.a.Item,null,o.a.createElement("div",{className:Yt.a["buttons-style"]},o.a.createElement(we.a,{type:"primary",htmlType:"submit",className:Yt.a["login-form-button"]},"Submit"))))),g=o.a.createElement(fe.a,{title:"Recovering link has been sent",className:Yt.a["login-card-container"]},o.a.createElement("div",{className:Yt.a["buttons-style"]},o.a.createElement(we.a,{type:"primary",htmlType:"button",className:Yt.a["login-form-button"]},o.a.createElement(se.a,{to:"/login"},"Log in")))),h=m?g:v,E=o.a.createElement("div",{className:Yt.a["login-container"]},h);return b.logged?o.a.createElement(f.a,{to:"/admin/home"}):E}),Bt=a(34),Kt=a.n(Bt),Wt=ye.a.create({name:"generate_new_password"})(function(e){var t=e.form,a=e.match,n=Object(c.useState)(!1),r=Object(u.a)(n,2),s=r[0],l=r[1],i=Object(c.useState)(!1),m=Object(u.a)(i,2),d=m[0],b=m[1],v=Object(c.useState)(!1),g=Object(u.a)(v,2),h=g[0],E=g[1],y=Object(c.useState)(!0),w=Object(u.a)(y,2),k=w[0],x=w[1],O=t.getFieldDecorator;Object(c.useEffect)(function(){j()},[]);var j=function(){var e=Object(T.a)(N.a.mark(function e(){return N.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(void 0==a.params.token){e.next=5;break}return e.next=3,R({token:a.params.token});case 3:e.sent.success&&E(!0);case 5:x(!1);case 6:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}(),_=o.a.createElement("div",{className:Kt.a["login-container"]},o.a.createElement(fe.a,{title:"Authentication error",className:Kt.a["login-card-container"]},o.a.createElement("div",{className:Kt.a["buttons-style"]},o.a.createElement(we.a,{type:"primary",htmlType:"button",className:Kt.a["login-form-button"]},o.a.createElement(se.a,{to:"/login"},"Log in"))))),D=o.a.createElement("div",{className:Kt.a["login-container"]},o.a.createElement(fe.a,{title:"Generate your new password",className:Kt.a["login-card-container"]},o.a.createElement(ye.a,{onSubmit:function(e){return function(e,n){l(!1),n.preventDefault(),t.validateFields(function(){var t=Object(T.a)(N.a.mark(function t(n,r){var c;return N.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(n){t.next=14;break}if(r.password!==r.passwordConfirm){t.next=13;break}return r.token=a.params.token,t.next=5,z(Object(p.a)({},r));case 5:if(c=t.sent){t.next=9;break}return l(!0),t.abrupt("return");case 9:b(!0),e.add(c),t.next=14;break;case 13:alert("password values are not equal");case 14:case"end":return t.stop()}},t)}));return function(e,a){return t.apply(this,arguments)}}())}(U,e)},className:Kt.a["login-form"]},o.a.createElement(ye.a.Item,null,O("password",{rules:[{required:!0,message:"Please enter your new password"}]})(o.a.createElement(ke.a,{prefix:o.a.createElement(oe.a,{type:"lock",style:{color:"rgba(0,0,0,.25)"}}),placeholder:"New Password",type:"password"}))),o.a.createElement(ye.a.Item,null,O("passwordConfirm",{rules:[{required:!0,message:"Please confirm your new password"}]})(o.a.createElement(ke.a,{prefix:o.a.createElement(oe.a,{type:"lock",style:{color:"rgba(0,0,0,.25)"}}),type:"password",placeholder:"Confirm Password"}))),s&&o.a.createElement(ye.a.Item,{validateStatus:"error",help:"Password change failed"}),o.a.createElement(ye.a.Item,null,o.a.createElement("div",{className:Kt.a["buttons-style"]},o.a.createElement(we.a,{type:"primary",htmlType:"submit",className:Kt.a["login-form-button"]},"Submit")))))," "),S=o.a.createElement("div",{className:Kt.a["login-container"]},o.a.createElement(fe.a,{title:"Password has been changed",className:Kt.a["login-card-container"]},o.a.createElement("div",{className:Kt.a["buttons-style"]},o.a.createElement(we.a,{type:"primary",htmlType:"button",className:Kt.a["login-form-button"]},o.a.createElement(se.a,{to:"/login"},"Log in"))))),C=o.a.createElement("div",{className:Kt.a["login-container"]},o.a.createElement(fe.a,{title:"Loading",className:Kt.a["login-card-container"]},k&&o.a.createElement(gt.a,{style:{paddingLeft:"50%"}}))),I=o.a.createElement("div",null);I=1==k?C:1==h?d?S:D:_;var U=Object(c.useContext)(Q.context);return U.logged?o.a.createElement(f.a,{to:"/admin/home"}):I}),Vt=[o.a.createElement($,{key:"route-login-route",exact:!0,path:"/login",component:Ft}),o.a.createElement($,{key:"route-recover-password",exact:!0,path:"/recoverpassword/",component:At}),o.a.createElement($,{key:"route-generate-new-password",exact:!0,path:"/recoverpassword/generatenewpassword/:token",component:Wt}),o.a.createElement(te,{key:"route-home-route",exact:!0,path:"/",component:ge}),o.a.createElement(te,{key:"route-unauthorized-route",exact:!0,path:"/unauthorized",component:zt,rule:"*"})],Gt=[o.a.createElement(te,{key:"route-home",path:"/admin/home",component:ge}),o.a.createElement(te,{key:"route-profile",path:"/admin/profile",component:Se,rule:["Profile"]}),o.a.createElement(te,{key:"route-users-list",path:"/admin/users",component:Ct,rule:"UserFull"}),o.a.createElement(te,{exact:!0,key:"route-users-create",path:"/admin/user",component:jt,rule:"UserFull"}),o.a.createElement(te,{key:"route-users-edit",path:"/admin/user/:id",component:jt,rule:"UserFull"}),o.a.createElement(te,{key:"route-display-messages",path:"/messages/display",component:ft,rule:"MessagesListReadUpdate"})],Jt=[],Xt=function(){return o.a.createElement(Q.Provider,null,o.a.createElement(i.a,null,o.a.createElement("div",{style:{width:"100%"}},o.a.createElement(m.a,null,Vt,Gt,Jt,o.a.createElement(d.a,{component:Ht})))))},Qt=(a(397),function(){return o.a.createElement("div",{className:"loading-container"},o.a.createElement(gt.a,null))}),$t=function(){var e=Object(c.useState)(!0),t=Object(u.a)(e,2),a=t[0],n=t[1];return Object(c.useEffect)(function(){n(!1)},[]),a?o.a.createElement(Qt,null):o.a.createElement(Xt,null)},ea=function(){return o.a.createElement("div",{className:"app"},o.a.createElement("header",{className:"appHeader"},o.a.createElement($t,null)))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(o.a.createElement(ea,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})},53:function(e,t,a){e.exports={"login-container":"RecoverPassword_login-container__3QT1P","login-card-container":"RecoverPassword_login-card-container__2Idi6","buttons-style":"RecoverPassword_buttons-style__2xyt7"}},61:function(e,t,a){e.exports={"authenticated-container":"Authenticated_authenticated-container__ljvSz","authenticated-card":"Authenticated_authenticated-card__NEmuB",success:"Authenticated_success__13rXV",error:"Authenticated_error__3UzWv"}},70:function(e,t,a){e.exports={"login-container":"Login_login-container__19gOM","login-card-container":"Login_login-card-container__2aobo","buttons-style":"Login_buttons-style__3JCer"}}},[[210,1,2]]]);
//# sourceMappingURL=main.38bf6ee5.chunk.js.map