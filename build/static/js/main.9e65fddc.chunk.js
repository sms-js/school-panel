(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{125:function(e,t,a){e.exports={"user-list-container":"UsersList_user-list-container__QmJD1"}},126:function(e,t,a){e.exports={"public-container":"Example_public-container__1REf9","public-content":"Example_public-content__2r8Mo","public-card":"Example_public-card__1ocb_"}},127:function(e,t,a){e.exports={"unauthorized-container":"Unauthorized_unauthorized-container__2gJ15","unauthorized-content":"Unauthorized_unauthorized-content__1yWkz","unauthorized-card":"Unauthorized_unauthorized-card__2ejZj"}},128:function(e,t,a){e.exports={"no-match-container":"NoMatch_no-match-container__2nrwn","no-match-content":"NoMatch_no-match-content__3msPZ","no-match-card":"NoMatch_no-match-card__mmb8L"}},174:function(e,t,a){e.exports={"home-container":"Home_home-container__3eIFf","home-icon":"Home_home-icon__sa0Ly","password-form-button":"Home_password-form-button__2P_sn"}},187:function(e,t,a){e.exports=a(377)},192:function(e,t,a){},216:function(e,t,a){},32:function(e,t,a){e.exports={"profile-container":"Profile_profile-container__3uduS","profile-icon":"Profile_profile-icon__20pXh","profile-form-button":"Profile_profile-form-button__3TNTd"}},376:function(e,t,a){},377:function(e,t,a){"use strict";a.r(t);var n={};a.r(n),a.d(n,"getUsers",function(){return ze}),a.d(n,"getUser",function(){return Ae}),a.d(n,"deleteUser",function(){return Fe}),a.d(n,"createUser",function(){return De}),a.d(n,"updateUser",function(){return Le});var r=a(0),c=a.n(r),o=a(9),u=a.n(o),i=(a(192),a(18)),s=a(387),l=a(389),m=a(388),p=a(48),d=a(386),f="http://api.whatsapp.khem.io";"/"!==f.substr(f.length-1)&&(f="".concat(f,"/"));"".concat(f,"api/v1/");var h="".concat("api/v1/","User/"),E="".concat("api/v1/","User/"),b=function(e){return"undefined"===typeof e},v=function(e){return!function(e){return null===e}(e)&&"object"===typeof e},y=function(e,t){return"boolean"===typeof e&&(b(t)||e===t)},g=function e(t,a){return"string"===typeof t&&(b(a)||e(a)&&t===a||k(a,t))},_=function(e){return g(e,"")},x=function(e){return g(e)&&!_(e)},k=function(e,t){return Array.isArray(e)&&(b(t)||e.indexOf(t)>=0)},w=function(e,t){return v(e)&&t in e},O=function(e,t){return v(e)&&v(e[t])},j=function(e){if(g(e))try{return JSON.parse(e)}catch(t){}return e},N=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return v(e)&&g(e._id)&&g(e.username)&&g(e.first_name)&&g(e.last_name)&&g(e.status,["isactive","inactive"])&&g(e.type)&&v(e.rules)},S=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return O(e,"data")&&y(e.data.success)&&g(e.data.token)&&N(e.data)},C=a(13),U=a.n(C),I=a(23),P=a(165),z=function(e){if(e.status>=200&&e.status<300)return e;var t=new Error(e.statusText);throw t.response=e,t},A=a.n(P).a.create({baseURL:f}),F=function(e){e?A.defaults.headers.common.Authorization=e:delete A.defaults.headers.common.Authorization},D=function(){var e=Object(I.a)(U.a.mark(function e(t,a){var n;return U.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,A.post("users/login",{username:t,password:a});case 3:if(n=e.sent,z(n)&&S(n)){e.next=6;break}throw new Error("invalid credentials");case 6:return e.abrupt("return",n.data);case 9:return e.prev=9,e.t0=e.catch(0),console.debug(e.t0),e.abrupt("return",!1);case 13:case"end":return e.stop()}},e,this,[[0,9]])}));return function(t,a){return e.apply(this,arguments)}}(),L=function(){var e=Object(I.a)(U.a.mark(function e(t,a){var n;return U.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,A.patch("".concat(E).concat(t),a);case 3:if(n=e.sent,z(n)){e.next=6;break}throw new Error("invalid credentials");case 6:return e.abrupt("return",a);case 9:return e.prev=9,e.t0=e.catch(0),console.debug(e.t0),e.abrupt("return",!1);case 13:case"end":return e.stop()}},e,this,[[0,9]])}));return function(t,a){return e.apply(this,arguments)}}(),T=A,q=a(166),B=[{name:"User",actions:["list","read"]}],R={Profile:{rules:[{name:"User",actions:["create","list","read","update"]}]},UserReadyOnly:{rules:B},UserFull:{rules:B},AuthComponentCardSuccess:{rules:[{name:"User",actions:["list","read"]}]},AuthComponentCardError:{rules:[{name:"User",actions:["error"]}]}},H=new function e(t){var a=this;Object(q.a)(this,e),this.storage={local:localStorage,session:sessionStorage},this.getItem=function(e,t){var n=a.storage[a.type].getItem(e);return n?(n=j(n),t?t(n)?n:null:n):null},this.setItem=function(e,t){if(!t)throw new Error("cannot save empty value to storage");v(t)&&(t=JSON.stringify(t)),a.storage[a.type].setItem(e,t)},this.removeItem=function(e){return a.storage[a.type].removeItem(e)},this.type=t}("session"),J=H.getItem("session",function(e){return!!(e&&e.logged&&N(e.user))&&(F("Bearer ".concat(e.token)),!0)}),V={logged:!1,token:"",user:{}},M=function(e){return{_id:e._id,username:e.username,first_name:e.first_name,last_name:e.last_name,status:e.status,type:e.type,rules:e.rules||[]}},W=function(e){var t=j(e);return t&&N(t)?{logged:!0,token:t.token,user:M(t)}:null},K=function(e,t){return!e||function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return O(e,"rules")}(t)&&O(R,e)&&(a=R[e],n="rules",v(a)&&k(a[n],r))&&!R[e].rules.find(function(e){return function(e,t){var a=t.name,n=t.actions;return!w(e.rules,a)||n.find(function(t){return!w(e.rules[a],t)})}(t,e)});var a,n,r},X=function(e,t){return!(e&&!g(e,"*"))||(x(e)?K(e,t):!e.find(function(e){return!K(e,t)}))},Y=function(e,t){switch(t.type){case"add":return W(t.response);case"updateUser":return Object(p.a)({},e,t.response);case"logout":return V;default:throw new Error("Unexpected action")}},Z=c.a.createContext(),Q={Provider:function(e){var t=e.children,a=e.value,n=Object(r.useReducer)(Y,J||V),o=Object(i.a)(n,2),u=o[0],s=o[1];return c.a.createElement(Z.Provider,{value:Object(p.a)({},a,{add:function(e){s({type:"add",response:e}),function(e){var t=W(e);H.setItem("session",JSON.stringify(t)),F("Bearer ".concat(e.token))}(e)},logout:function(){s({type:"logout"}),H.removeItem("session"),F(null)},updateUser:function(e){return s({type:"updateUser",user:e})}},u)},t)},Consumer:Z.Consumer,context:Z},$=function(e){return c.a.createElement(m.a,e)},G=a(184),ee=function(e){var t=e.component,a=Object(G.a)(e,["component"]),n=Object(r.useContext)(Q.context);return c.a.createElement(m.a,Object.assign({},a,{render:function(e){return!0===n.logged?function(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return X(a.rules||a.rule,t)?c.a.createElement(e,a):c.a.createElement(d.a,{to:"/unauthorized"})}(t,n.user,Object(p.a)({},e,a)):c.a.createElement(d.a,{to:"/login"})}}))},te=a(52),ae=a.n(te),ne=(a(216),a(385)),re=a(130),ce=a(11),oe=a(378),ue=re.a.SubMenu,ie=function(e){var t=e.collapsed,a=Object(r.useContext)(Q.context);return c.a.createElement("div",{style:{height:"100vh",textAlign:"left"}},c.a.createElement(re.a,{style:{height:"100%"},defaultSelectedKeys:["1"],defaultOpenKeys:["sub1"],mode:"inline",inlineCollapsed:t},c.a.createElement(re.a.Item,{key:"menu-home"},c.a.createElement("span",null,c.a.createElement(ce.a,{type:"home"}),c.a.createElement("span",null,c.a.createElement(oe.a,{to:"/admin/home"},"Home")))),c.a.createElement(ue,{key:"menu-authenticated",title:c.a.createElement("span",null,c.a.createElement(ce.a,{type:"login"}),c.a.createElement("span",null,"Panel screens"))},c.a.createElement(re.a.Item,{key:"menu-authenticated-authenticated"},c.a.createElement(oe.a,{to:"/admin/examples/authenticated"},"Authenticated screen")),c.a.createElement(re.a.Item,{key:"menu-authenticated-unauthorized"},c.a.createElement(oe.a,{to:"/admin/examples/unauthorized"},"Unauthorized screen")),c.a.createElement(ue,{key:"menu-authenticated-users",title:c.a.createElement("span",null,c.a.createElement(ce.a,{type:"user"}),c.a.createElement("span",null,"Users"))},c.a.createElement(re.a.Item,{key:"menu-authenticated-authenticated"},c.a.createElement(oe.a,{to:"/admin/users"},"List")),c.a.createElement(re.a.Item,{key:"menu-authenticated-unauthorized"},c.a.createElement(oe.a,{to:"/admin/user"},"Edit")))),c.a.createElement(ue,{key:"menu-public",title:c.a.createElement("span",null,c.a.createElement(ce.a,{type:"project"}),c.a.createElement("span",null,"Public screens"))},c.a.createElement(re.a.Item,{key:"menu-public-example"},c.a.createElement(oe.a,{to:"/public/examples/example_1"},"Example 1"))),c.a.createElement(ue,{key:"config",style:{position:"absolute",bottom:0},title:c.a.createElement("span",null,c.a.createElement(ce.a,{type:"setting"}),c.a.createElement("span",null,"Settings"))},c.a.createElement(re.a.Item,{key:"menu-home"},c.a.createElement("span",null,c.a.createElement(ce.a,{type:"user"}),c.a.createElement("span",null,c.a.createElement(oe.a,{to:"/admin/profile"},"Profile")))),c.a.createElement(re.a.Item,{key:"menu-logout",onClick:function(){return a.logout()}},c.a.createElement(ce.a,{type:"logout"}),"Logout"))))},se=ne.a.Header,le=ne.a.Sider,me=ne.a.Content,pe=function(e){var t=e.children,a=e.title;return c.a.createElement(ne.a,null,c.a.createElement(le,null,c.a.createElement(ie,{collapsed:!1})),c.a.createElement(ne.a,null,c.a.createElement(se,{className:"side-bar-container"},c.a.createElement("h2",null,a)),c.a.createElement(me,{style:{margin:"24px 16px",padding:24,background:"#fff",minHeight:280}},t)))},de=a(381),fe=function(e){var t=e.rule;return c.a.createElement(de.a,{title:"Error",className:[ae.a["authenticated-card"],ae.a.error]},c.a.createElement("p",null,"Without permissions"),c.a.createElement("p",null,"Message: the rule (",t,") validation failed"))},he=function(){var e,t=Object(r.useContext)(Q.context);return c.a.createElement(pe,{title:"Authenticated route"},c.a.createElement("div",{className:ae.a["authenticated-container"]},(e=t.user,X("AuthComponentCardSuccess",e)?c.a.createElement(de.a,{key:"AuthComponentCardSuccess",title:"Success",className:[ae.a["authenticated-card"],ae.a.success]},c.a.createElement("p",null,"You have permissions to access AuthComponentCardSuccess")):c.a.createElement(fe,{key:"auth-success",rule:"AuthComponentCardSuccess"})),function(e){return X("AuthComponentCardError",e)?c.a.createElement(de.a,{key:"AuthComponentCardError",title:"Error",className:[ae.a["authenticated-card"],ae.a.success]},c.a.createElement("p",null,"You have permissions to access AuthComponentCardError")):c.a.createElement(fe,{key:"auth-error",rule:"AuthComponentCardError"})}(t.user)))},Ee=a(174),be=a.n(Ee),ve=function(){return c.a.createElement(pe,{title:"Home"},c.a.createElement("div",{className:be.a["home-container"]},c.a.createElement("h1",null,"Khemlabs React Panel"),c.a.createElement("img",{src:"https://khemlabs.com/img/logo-brand.png",alt:"Khemlabs React Panel"})))},ye=a(32),ge=a.n(ye),_e=a(380),xe=a(34),ke=a(382),we=function(e){var t=e.form,a=e.session;return c.a.createElement(_e.a.Item,{label:"Username"},function(e,t){return(0,e.getFieldDecorator)("username",{rules:[{required:!0,message:"Please input your username!"}],initialValue:t.user.username})(c.a.createElement(ke.a,{key:"profile-username-input",disabled:!0,prefix:c.a.createElement(ce.a,{type:"tag",className:ge.a["profile-icon"]}),placeholder:"Username"}))}(t,a))},Oe=function(e){var t=e.form,a=e.session;return c.a.createElement(_e.a.Item,{label:"First name"},function(e,t){return(0,e.getFieldDecorator)("first_name",{rules:[{required:!0,message:"Please input your first name!"}],initialValue:t.user.first_name})(c.a.createElement(ke.a,{key:"profile-firstname-input",prefix:c.a.createElement(ce.a,{type:"tag",className:ge.a["profile-icon"]}),placeholder:"First name"}))}(t,a))},je=function(e){var t=e.form,a=e.session;return c.a.createElement(_e.a.Item,{label:"Last name"},function(e,t){return(0,e.getFieldDecorator)("last_name",{rules:[{required:!0,message:"Please input your last name!"}],initialValue:t.user.last_name})(c.a.createElement(ke.a,{key:"profile-lastname-input",prefix:c.a.createElement(ce.a,{type:"tag",className:ge.a["profile-icon"]}),placeholder:"Last name"}))}(t,a))},Ne=function(e){var t=e.form;return c.a.createElement(_e.a.Item,{label:"Password"},function(e){return(0,e.getFieldDecorator)("password",{rules:[{required:!0,message:"Please input your new password"}],initialValue:""})(c.a.createElement(ke.a,{prefix:c.a.createElement(ce.a,{type:"lock",className:ge.a["profile-icon"]}),type:"password",placeholder:"Password"}))}(t))},Se=function(e){var t=e.form;return c.a.createElement(_e.a.Item,{label:"Password confirmation"},function(e){return(0,e.getFieldDecorator)("passwordConfirm",{rules:[{required:!0,message:"Please confirm your new password"}],initialValue:""})(c.a.createElement(ke.a,{prefix:c.a.createElement(ce.a,{type:"lock",className:ge.a["profile-icon"]}),type:"password",placeholder:"Password confirmation"}))}(t))},Ce=_e.a.create({name:"form_profile"})(function(e){var t=e.form,a=Object(r.useState)(!1),n=Object(i.a)(a,2),o=n[0],u=n[1],s=Object(r.useState)(!1),l=Object(i.a)(s,2),m=l[0],p=l[1],d=Object(r.useState)(!1),f=Object(i.a)(d,2),h=f[0],E=f[1],b=Object(r.useContext)(Q.context);return c.a.createElement(pe,{title:"Profile"},c.a.createElement("div",{className:ge.a["profile-container"]},c.a.createElement(_e.a,{onSubmit:function(e){return function(e,a){p(!1),u(!1),a.preventDefault(),t.validateFields(function(){var t=Object(I.a)(U.a.mark(function t(a,n){var r;return U.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(a){t.next=9;break}return t.next=3,L(e.user._id,n);case 3:if(r=t.sent){t.next=7;break}return u(!0),t.abrupt("return");case 7:p(!0),e.updateUser(r);case 9:case"end":return t.stop()}},t,this)}));return function(e,a){return t.apply(this,arguments)}}())}(b,e)},className:ge.a["login-form"]},c.a.createElement(we,{form:t,session:b}),c.a.createElement(Oe,{form:t,session:b}),c.a.createElement(je,{form:t,session:b}),h&&c.a.createElement(Ne,{form:t}),h&&c.a.createElement(Se,{form:t}),c.a.createElement(function(){return c.a.createElement("div",null,o&&c.a.createElement(_e.a.Item,{validateStatus:"error",help:"Request failed"}),m&&c.a.createElement(_e.a.Item,{style:{color:"green"},help:"Saved!"}))},null),c.a.createElement(_e.a.Item,null,c.a.createElement(xe.a,{type:"primary",htmlType:"submit",className:ge.a["login-form-button"]},"Save"),c.a.createElement(xe.a,{type:"secondary",htmlType:"button",className:ge.a["password-form-button"],onClick:function(){return E(!h)}},h?"Hide":"Update password")))))}),Ue=a(39),Ie=a.n(Ue),Pe=a(178),ze=function(){var e=Object(I.a)(U.a.mark(function e(){var t,a=arguments;return U.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a.length>0&&void 0!==a[0]?a[0]:{},e.prev=1,e.next=4,T.get("".concat(h));case 4:if(t=e.sent,z(t)){e.next=7;break}throw new Error("invalid credentials");case 7:return e.abrupt("return",t.data);case 10:return e.prev=10,e.t0=e.catch(1),console.debug(e.t0),e.abrupt("return",!1);case 14:case"end":return e.stop()}},e,this,[[1,10]])}));return function(){return e.apply(this,arguments)}}(),Ae=function(){var e=Object(I.a)(U.a.mark(function e(t){var a;return U.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,T.get("".concat(h).concat(t));case 3:if(a=e.sent,z(a)){e.next=6;break}throw new Error("invalid credentials");case 6:return e.abrupt("return",a.data);case 9:return e.prev=9,e.t0=e.catch(0),console.debug(e.t0),e.abrupt("return",!1);case 13:case"end":return e.stop()}},e,this,[[0,9]])}));return function(t){return e.apply(this,arguments)}}(),Fe=function(){var e=Object(I.a)(U.a.mark(function e(t){var a;return U.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,T.delete("".concat(h).concat(t));case 3:if(a=e.sent,z(a)){e.next=6;break}throw new Error("invalid credentials");case 6:return e.abrupt("return",!0);case 9:return e.prev=9,e.t0=e.catch(0),console.debug(e.t0),e.abrupt("return",!1);case 13:case"end":return e.stop()}},e,this,[[0,9]])}));return function(t){return e.apply(this,arguments)}}(),De=function(){var e=Object(I.a)(U.a.mark(function e(t){var a;return U.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t.type||(t.type="admin"),e.next=4,T.post(h,t);case 4:if(a=e.sent,z(a)){e.next=7;break}throw new Error("invalid credentials");case 7:return e.abrupt("return",t);case 10:return e.prev=10,e.t0=e.catch(0),console.debug(e.t0),e.abrupt("return",!1);case 14:case"end":return e.stop()}},e,this,[[0,10]])}));return function(t){return e.apply(this,arguments)}}(),Le=function(){var e=Object(I.a)(U.a.mark(function e(t,a){var n;return U.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,T.patch("".concat(h).concat(t),a);case 3:if(n=e.sent,z(n)){e.next=6;break}throw new Error("invalid credentials");case 6:return e.abrupt("return",a);case 9:return e.prev=9,e.t0=e.catch(0),console.debug(e.t0),e.abrupt("return",!1);case 13:case"end":return e.stop()}},e,this,[[0,9]])}));return function(t,a){return e.apply(this,arguments)}}(),Te=function(e){var t=e.form,a=e.user;return c.a.createElement(_e.a.Item,{label:"Email"},function(e,t){return(0,e.getFieldDecorator)("email",{rules:[{required:!0,type:"email",message:"Please input the user email!"}],initialValue:t.email})(c.a.createElement(ke.a,{key:"profile-email-input",disabled:t._id,prefix:c.a.createElement(ce.a,{type:"tag",className:Ie.a["home-icon"]}),placeholder:"Email"}))}(t,a))},qe=function(e){var t=e.form,a=e.user;return c.a.createElement(_e.a.Item,{label:"First name"},function(e,t){return(0,e.getFieldDecorator)("first_name",{rules:[{required:!0,message:"Please input your first name!"}],initialValue:t.first_name})(c.a.createElement(ke.a,{key:"profile-firstname-input",prefix:c.a.createElement(ce.a,{type:"tag",className:Ie.a["home-icon"]}),placeholder:"First name"}))}(t,a))},Be=function(e){var t=e.form,a=e.user;return c.a.createElement(_e.a.Item,{label:"Last name"},function(e,t){return(0,e.getFieldDecorator)("last_name",{rules:[{required:!0,message:"Please input your last name!"}],initialValue:t.last_name})(c.a.createElement(ke.a,{key:"profile-lastname-input",prefix:c.a.createElement(ce.a,{type:"tag",className:Ie.a["home-icon"]}),placeholder:"Last name"}))}(t,a))},Re=_e.a.create({name:"user_edition_form"})(function(e){var t=e.form,a=e.match,o=O(a,"params")?a.params:{},u=Object(r.useState)({}),s=Object(i.a)(u,2),l=s[0],m=s[1],p=Object(r.useState)(!0),f=Object(i.a)(p,2),h=f[0],E=f[1],b=Object(r.useState)(!1),v=Object(i.a)(b,2),y=v[0],g=v[1],_=Object(r.useState)(!1),x=Object(i.a)(_,2),k=x[0],w=x[1],j=Object(r.useState)(!1),N=Object(i.a)(j,2),S=N[0],C=N[1],P=function(){var e=Object(I.a)(U.a.mark(function e(){var t;return U.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!o.id){e.next=8;break}return e.next=3,n.getUser(o.id);case 3:(t=e.sent)?m(t):w(!0),E(!1),e.next=9;break;case 8:E(!1);case 9:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}();Object(r.useEffect)(function(){P()},[]);return S?c.a.createElement(d.a,{to:"/admin/users"}):c.a.createElement(pe,{title:l._id?"Update user":"Create user"},c.a.createElement("div",{className:Ie.a["user-edit-container"]},c.a.createElement(_e.a,{onSubmit:function(e){return function(e,a){E(!0),g(!1),w(!1),a.preventDefault(),t.validateFields(function(){var t=Object(I.a)(U.a.mark(function t(a,r){var c;return U.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(a&&E(!1),!e._id){t.next=7;break}return t.next=4,n.updateUser(e._id,r);case 4:t.t0=t.sent,t.next=10;break;case 7:return t.next=9,n.createUser(r,r);case 9:t.t0=t.sent;case 10:if(c=t.t0,E(!1),c){t.next=14;break}return t.abrupt("return",w(!0));case 14:g(!0);case 15:case"end":return t.stop()}},t,this)}));return function(e,a){return t.apply(this,arguments)}}())}(l,e)},className:Ie.a["login-form"]},c.a.createElement(Te,{form:t,user:l}),c.a.createElement(qe,{form:t,user:l}),c.a.createElement(Be,{form:t,user:l}),c.a.createElement(function(){return c.a.createElement("div",null,k&&c.a.createElement(_e.a.Item,{validateStatus:"error",help:"Request failed"}),y&&c.a.createElement(_e.a.Item,{style:{color:"green"},help:"Saved!"}))},null),c.a.createElement(_e.a.Item,null,c.a.createElement(xe.a,{type:"primary",htmlType:"submit",className:Ie.a["login-form-button"]},h&&c.a.createElement(Pe.a,null),l._id?"Save":"Create"),c.a.createElement(xe.a,{type:"secondary",htmlType:"button",className:Ie.a["login-form-button"],onClick:function(){return C(!0)}},y?"Back":"Cancel")))))}),He=a(125),Je=a.n(He),Ve=a(383),Me=a(379),We=[{title:"First name",dataIndex:"first_name",key:"first_name",render:function(e){return c.a.createElement("p",null,e)}},{title:"Last name",dataIndex:"last_name",key:"last_name",render:function(e){return c.a.createElement("p",null,e)}},{title:"Email",dataIndex:"email",key:"email",render:function(e){return c.a.createElement("p",null,e)}},{title:"Action",key:"action",render:function(e,t){return c.a.createElement("span",null,c.a.createElement(oe.a,{to:"/admin/user/".concat(t._id)},"Edit"),c.a.createElement("a",{href:"#",style:{marginLeft:"5px",color:"red"},onClick:t.onDelete},"Delete"))}}],Ke=function(e){var t=e.users,a=e.onDelete;return c.a.createElement(Me.a,{columns:We,dataSource:t.map(function(e){return e.onDelete=function(){return a(e._id)},e})})},Xe=Ve.a.confirm,Ye=function(){var e=Object(r.useState)([]),t=Object(i.a)(e,2),a=t[0],o=t[1],u=Object(r.useState)(!0),s=Object(i.a)(u,2),l=s[0],m=s[1],d=Object(r.useState)(!1),f=Object(i.a)(d,2),h=f[0],E=f[1];Object(r.useEffect)(function(){b()},[]);var b=function(){var e=Object(I.a)(U.a.mark(function e(){var t;return U.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.getUsers();case 2:if(t=e.sent,m(!1),t){e.next=6;break}return e.abrupt("return",E(!0));case 6:o(t.map(function(e){return Object(p.a)({},e,{key:"list_".concat(e._id)})}));case 7:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}(),v=function(){var e=Object(I.a)(U.a.mark(function e(t){var r;return U.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:r=a.find(function(e){return e._id===t}),Xe({title:"Do you want to delete these item?",content:"".concat(r.first_name," ").concat(r.last_name," will be deleted, are you sure?"),onOk:function(){var e=Object(I.a)(U.a.mark(function e(){return U.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return m(!0),e.next=3,n.deleteUser(t);case 3:e.sent?o(a.filter(function(e){return e._id!==t})):E(!0),m(!1);case 6:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}(),onCancel:function(){}});case 2:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}();return c.a.createElement(pe,{title:"Users"},c.a.createElement("div",{className:Je.a["user-list-container"]},h&&c.a.createElement(_e.a.Item,{validateStatus:"error",help:"User is not authorized to make that action"}),c.a.createElement(xe.a,{type:"secondary",htmlType:"button",className:Je.a["login-form-button"]},c.a.createElement(oe.a,{to:"/admin/user"},l&&c.a.createElement(Pe.a,null)," Create")),c.a.createElement(Ke,{users:a,onDelete:v})))},Ze=a(126),Qe=a.n(Ze),$e=a(384),Ge=function(){var e=Object(r.useState)(!1),t=Object(i.a)(e,2),a=t[0],n=t[1];return a?c.a.createElement(d.a,{to:"/"}):c.a.createElement("div",{className:Qe.a["public-container"]},c.a.createElement($e.a,{onBack:function(){return n(!0)},title:"Example screen",subTitle:"This is an example of a public screen (no authentication needed)"}),c.a.createElement("div",{className:Qe.a["public-content"]},c.a.createElement(de.a,{title:"Example Screen",className:"public-card"},c.a.createElement("p",null,"PUBLIC EXAMPLE SCREEN!!!"))))},et=a(76),tt=a.n(et),at=_e.a.create({name:"normal_login"})(function(e){var t=e.form,a=Object(r.useState)(!1),n=Object(i.a)(a,2),o=n[0],u=n[1],s=t.getFieldDecorator,l=Object(r.useContext)(Q.context);return l.logged?c.a.createElement(d.a,{to:"/admin/home"}):c.a.createElement("div",{className:tt.a["login-container"]},c.a.createElement(de.a,{title:"Login",className:tt.a["login-card-container"]},c.a.createElement(_e.a,{onSubmit:function(e){return function(e,a){u(!1),a.preventDefault(),t.validateFields(function(){var t=Object(I.a)(U.a.mark(function t(a,n){var r,c,o;return U.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(a){t.next=9;break}return r=n.username,c=n.password,t.next=4,D(r,c);case 4:if(o=t.sent){t.next=8;break}return u(!0),t.abrupt("return");case 8:e.add(o);case 9:case"end":return t.stop()}},t,this)}));return function(e,a){return t.apply(this,arguments)}}())}(l,e)},className:tt.a["login-form"]},c.a.createElement(_e.a.Item,null,s("username",{rules:[{required:!0,message:"Please input your username!"}]})(c.a.createElement(ke.a,{prefix:c.a.createElement(ce.a,{type:"user",style:{color:"rgba(0,0,0,.25)"}}),placeholder:"Username",autoComplete:"current-username"}))),c.a.createElement(_e.a.Item,null,s("password",{rules:[{required:!0,message:"Please input your Password!"}]})(c.a.createElement(ke.a,{prefix:c.a.createElement(ce.a,{type:"lock",style:{color:"rgba(0,0,0,.25)"}}),type:"password",placeholder:"Password",autoComplete:"current-password"}))),o&&c.a.createElement(_e.a.Item,{validateStatus:"error",help:"Login request failed"}),c.a.createElement(_e.a.Item,null,c.a.createElement(xe.a,{type:"primary",htmlType:"submit",className:tt.a["login-form-button"]},"Log in")))))}),nt=a(127),rt=a.n(nt),ct=function(e){var t=Object(r.useState)(!1),a=Object(i.a)(t,2),n=a[0],o=a[1];return n?c.a.createElement(d.a,{to:"/"}):c.a.createElement("div",{className:rt.a["unauthorized-container"]},c.a.createElement($e.a,{onBack:function(){return o(!0)},title:"Error:",subTitle:"Unauthorized"}),c.a.createElement("div",{className:rt.a["unauthorized-content"]},c.a.createElement(de.a,{title:"Warning",className:"unauthorized-card"},c.a.createElement("p",null,"You do not have permissions to access this screen"))))},ot=a(128),ut=a.n(ot),it=function(){var e=Object(r.useState)(!1),t=Object(i.a)(e,2),a=t[0],n=t[1];return a?c.a.createElement(d.a,{to:"/"}):c.a.createElement("div",{className:ut.a["no-match-container"]},c.a.createElement($e.a,{onBack:function(){return n(!0)},title:"Sory:",subTitle:"The screen you are looking for does not exists"}),c.a.createElement("div",{className:ut.a["no-match-content"]},c.a.createElement(de.a,{title:"Warning",className:"no-match-card"},c.a.createElement("p",null,"404 - NOT FOUND!!!"))))},st=[c.a.createElement($,{key:"route-login-route",exact:!0,path:"/login",component:at}),c.a.createElement(ee,{key:"route-home-route",exact:!0,path:"/",component:ve}),c.a.createElement(ee,{key:"route-unauthorized-route",exact:!0,path:"/unauthorized",component:ct,rule:"*"})],lt=[c.a.createElement(ee,{key:"route-home",path:"/admin/home",component:ve}),c.a.createElement(ee,{key:"route-home",path:"/admin/profile",component:Ce,rule:["Profile"]}),c.a.createElement(ee,{key:"route-auth",path:"/admin/examples/authenticated",component:he,rule:"*"}),c.a.createElement(ee,{key:"route-unauth",path:"/admin/examples/unauthorized",component:he,rule:"Error"}),c.a.createElement(ee,{key:"route-users-list",path:"/admin/users",component:Ye,rule:"UserReadyOnly"}),c.a.createElement(ee,{exact:!0,key:"route-users-create",path:"/admin/user",component:Re,rule:"UserFull"}),c.a.createElement(ee,{key:"route-users-edit",path:"/admin/user/:id",component:Re,rule:"UserFull"})],mt=[c.a.createElement($,{key:"route-public-example-route",exact:!0,path:"/public/examples/example_1",component:Ge})],pt=function(){return c.a.createElement(Q.Provider,null,c.a.createElement(s.a,null,c.a.createElement("div",{style:{width:"100%"}},c.a.createElement(l.a,null,st,lt,mt,c.a.createElement(m.a,{component:it})))))},dt=(a(376),function(){return c.a.createElement("div",{className:"loading-container"},c.a.createElement(Pe.a,null))}),ft=function(){var e=Object(r.useState)(!0),t=Object(i.a)(e,2),a=t[0],n=t[1];return Object(r.useEffect)(function(){n(!1)},[]),a?c.a.createElement(dt,null):c.a.createElement(pt,null)},ht=function(){return c.a.createElement("div",{className:"app"},c.a.createElement("header",{className:"appHeader"},c.a.createElement(ft,null)))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));u.a.render(c.a.createElement(ht,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})},39:function(e,t,a){e.exports={"user-edit-container":"UserEdition_user-edit-container__pxrC0"}},52:function(e,t,a){e.exports={"authenticated-container":"Authenticated_authenticated-container__c7LdS","authenticated-card":"Authenticated_authenticated-card__1BbiN",success:"Authenticated_success__2_XE5",error:"Authenticated_error__CfaEy"}},76:function(e,t,a){e.exports={"login-container":"Login_login-container__37Jws","login-card-container":"Login_login-card-container__37XrO"}}},[[187,1,2]]]);
//# sourceMappingURL=main.9e65fddc.chunk.js.map